{"ast":null,"code":"import { ethers } from 'ethers';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction AppComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1, \" We are connected to the Goerli blockchain at the block \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 8);\n    i0.ɵɵtext(5, \"Connect Wallet\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.blockNumber);\n  }\n}\nexport class AppComponent {\n  // constructor function\n  constructor() {\n    this.provider = ethers.getDefaultProvider('goerli');\n  }\n  syncBlock() {\n    // here we are listenting to the promise and when it is completed then receiving the block object\n    this.blockNumber = \"loading...\";\n    this.provider.getBlock('latest').then(block => {\n      this.blockNumber = block.number;\n    });\n  }\n  clearBlock() {\n    this.blockNumber = 0;\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 10,\n  vars: 1,\n  consts: [[1, \"px-4\", \"py-5\", \"my-5\", \"text-center\"], [1, \"display-5\", \"fw-bold\"], [1, \"col-lg-6\", \"mx-auto\"], [\"class\", \"lead mb-4\", 4, \"ngIf\"], [1, \"d-grid\", \"gap-2\", \"d-sm-flex\", \"justify-content-sm-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"px-4\", \"gap-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"btn-lg\", \"px-4\", 3, \"click\"], [1, \"lead\", \"mb-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-lg\", \"px-4\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Hello!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, AppComponent_p_4_Template, 6, 1, \"p\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_6_listener() {\n        return ctx.syncBlock();\n      });\n      i0.ɵɵtext(7, \"Sync\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_8_listener() {\n        return ctx.clearBlock();\n      });\n      i0.ɵɵtext(9, \"Clear\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.blockNumber && ctx.blockNumber > 0);\n    }\n  },\n  dependencies: [i1.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,MAAM,QAAQ,QAAQ;;;;;ICEzBC,4BAA4D;IAC1DA,wEACA;IAAAA,8BAAQ;IAAAA,YAAe;IAAAA,iBAAS;IAChCA,iCAA2D;IAAAA,8BAAc;IAAAA,iBAAS;;;;IAD1EA,eAAe;IAAfA,wCAAe;;;ADG/B,OAAM,MAAOC,YAAY;EAIvB;EACAC;IACE,IAAI,CAACC,QAAQ,GAAGJ,MAAM,CAACK,kBAAkB,CAAC,QAAQ,CAAC;EACrD;EAEAC,SAAS;IACP;IACA,IAAI,CAACC,WAAW,GAAG,YAAY;IAC/B,IAAI,CAACH,QAAQ,CAACI,QAAQ,CAAC,QAAQ,CAAC,CAACC,IAAI,CAAEC,KAAK,IAAI;MAC9C,IAAI,CAACH,WAAW,GAAGG,KAAK,CAACC,MAAM;IACjC,CAAC,CAAC;EACJ;EAEAC,UAAU;IACR,IAAI,CAACL,WAAW,GAAG,CAAC;EACtB;;AAnBWL,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCRzBhB,8BAAwC;MACNA,sBAAM;MAAAA,iBAAK;MACzCA,8BAA8B;MAC5BA,yDAII;MACJA,8BAA8D;MACIA;QAAA,OAASiB,eAAW;MAAA,EAAC;MAACjB,oBAAI;MAAAA,iBAAS;MACnGA,iCAA2F;MAAvBA;QAAA,OAASiB,gBAAY;MAAA,EAAC;MAACjB,qBAAK;MAAAA,iBAAS;;;MAPvGA,eAAoC;MAApCA,6DAAoC","names":["ethers","i0","AppComponent","constructor","provider","getDefaultProvider","syncBlock","blockNumber","getBlock","then","block","number","clearBlock","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/algobloom/Documents/Workspace/Lesson-16/frontend/src/app/app.component.ts","/Users/algobloom/Documents/Workspace/Lesson-16/frontend/src/app/app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ethers } from 'ethers';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  // number that starts at 0\n  blockNumber: number | string | undefined;\n  provider: ethers.providers.BaseProvider;\n  // constructor function\n  constructor() {\n    this.provider = ethers.getDefaultProvider('goerli');\n  }\n\n  syncBlock() {\n    // here we are listenting to the promise and when it is completed then receiving the block object\n    this.blockNumber = \"loading...\";\n    this.provider.getBlock('latest').then((block) => {\n      this.blockNumber = block.number;\n    });\n  }\n\n  clearBlock() {\n    this.blockNumber = 0;\n  }\n}\n","<div class=\"px-4 py-5 my-5 text-center\">\n    <h1 class=\"display-5 fw-bold\">Hello!</h1>\n    <div class=\"col-lg-6 mx-auto\">\n      <p *ngIf=\"blockNumber && blockNumber > 0\" class=\"lead mb-4\">\n        We are connected to the Goerli blockchain at the block \n        <strong>{{blockNumber}}</strong>\n        <button type=\"button\" class=\"btn btn-success btn-lg px-4 \">Connect Wallet</button>\n      </p>\n      <div class=\"d-grid gap-2 d-sm-flex justify-content-sm-center\">\n        <button type=\"button\" class=\"btn btn-primary btn-lg px-4 gap-3\" (click)=\"syncBlock()\">Sync</button>\n        <button type=\"button\" class=\"btn btn-outline-secondary btn-lg px-4\" (click)=\"clearBlock()\">Clear</button>\n      </div>\n    </div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}